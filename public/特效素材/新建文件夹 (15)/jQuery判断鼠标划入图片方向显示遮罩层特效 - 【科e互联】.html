<!DOCTYPE html>
<!-- saved from url=(0047)http://www.internetke.com/jsEffects/2016072201/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】</title>
<meta name="keywords" content="鼠标滑过,鼠标悬停,遮罩层,图片特效">
<meta name="description" content="一款jQuery判断鼠标划入图片方向显示遮罩层特效代码下载，该图片特效是一款鼠标从哪个方向移到图片上遮罩就从哪里出现JS代码。">
<link rel="stylesheet" href="./jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】_files/style.css">
<script type="text/javascript" src="./jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】_files/jquery-1.11.1.min.js"></script>
</head>
<body class="mkeBody">
<div class="mkeHeadBox">jQuery判断鼠标划入图片方向显示遮罩层特效</div>
<div class="mkeContentBox">
<!--效果html开始-->
<ul id="container" class="clearfix">
  <li> <img class="img" src="./jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】_files/huodong1.png">
    <p style="left: 232px; top: 0px;"> <span>如果有来生，我要做一棵树，站成永恒，没有悲欢的姿势。</span> <a target="_blank" href="http://www.internetke.com/jsEffects/2016072201/#" style="left: 232px; top: 20px;"></a> <i></i> </p>
  </li>
  <li> <img class="img" src="./jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】_files/huodong2.png">
    <p style="left: 232px; top: 0px;"> <span>一半在土里安详，一半在风里飞扬，一半洒落阴凉，一半沐浴阳光。</span> <a target="_blank" href="http://www.internetke.com/jsEffects/2016072201/#" style="left: 50%; top: 20px;"></a> <i></i> </p>
  </li>
  <li> <img class="img" src="./jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】_files/huodong3.png">
    <p style="left: 0px; top: 0px;"> <span>非常沉默非常骄傲，从不依靠从不寻找。</span> <a target="_blank" href="http://www.internetke.com/jsEffects/2016072201/#" style="left: -138.882px; top: 20px;"></a> <i></i> </p>
  </li>
  <li> <img class="img" src="./jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】_files/huodong4.png">
    <p style="left: 62.2577px; top: 0px;"> <span>如果有来生，有没有人爱，我也要努力做一个可爱的人。</span> <a target="_blank" href="http://www.internetke.com/jsEffects/2016072201/#" style="left: 184.462px; top: -49.8852px;"></a> <i></i> </p>
  </li>
  <li> <img class="img" src="./jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】_files/huodong5.png">
    <p style="left: 0px; top: -152px;"> <span>不埋怨谁，不嘲笑谁，也不羡慕谁，阳光下灿烂，风雨中奔跑，做自己的梦，走自己的路。</span> <a target="_blank" href="http://www.internetke.com/jsEffects/2016072201/#" style="left: 50%; top: -152px;"></a> <i></i> </p>
  </li>
  <li> <img class="img" src="./jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】_files/huodong6.png">
    <p style="left: 0px; top: -152px;"> <span>如果有来生——三毛</span> <a target="_blank" href="http://www.internetke.com/jsEffects/2016072201/#" style="left: 50%; top: -152px;"></a> <i></i> </p>
  </li>
</ul>
<img src="./jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】_files/a2.jpg" class="explain"> 
<script>
   $("#container li").each(function(){
	   $(this).on('mouseenter',function(e){
		   var e=e||window.event;
		   var angle=direct(e,this)
		   mouseEvent(angle,this,'in')
	   })
	   $(this).on('mouseleave',function(e){
		   var e=e||window.event;
		   var angle=direct(e,this)
		   mouseEvent(angle,this,'off')
	   })
   })
   function direct(e,o){
	 var w=o.offsetWidth;
	 var h=o.offsetHeight;
	 var top= o.offsetTop;                    //包含滚动条滚动的部分
	 var left= o.offsetLeft;
	 var scrollTOP=document.body.scrollTop||document.documentElement.scrollTop;
	 var scrollLeft=document.body.scrollLeft||document.documentElement.scrollLeft;
	 var offTop=top-  scrollTOP;
	 var offLeft= left- scrollLeft;
	 //console.log(offTop+";"+offLeft)
	// e.pageX|| e.clientX;
			//pageX 是从页面0 0 点开始  clientX是当前可视区域0 0开始  即当有滚动条时clientX  小于  pageX
		   //ie678不识别pageX
		   //PageY=clientY+scrollTop-clientTop;(只讨论Y轴,X轴同理,下同) 页面上的位置=可视区域位置+页面滚动条切去高度-自身border高度
	 var ex= (e.pageX-scrollLeft)|| e.clientX;
	 var ey=(e.pageY-scrollTOP)|| e.clientY;
	 var x=(ex-offLeft-w/2)*(w>h?(h/w):1);
	 var y=(ey-offTop-h/2)*(h>w?(w/h):1);

	 var angle=(Math.round((Math.atan2(y,x)*(180/Math.PI)+180)/90)+3)%4 //atan2返回的是弧度 atan2(y,x)
	 var directName=["上","右","下","左"];
	 return directName[angle];  //返回方向  0 1 2 3对应 上 右 下 左
   }
   function mouseEvent(angle,o,d){ //方向  元素  鼠标进入/离开
	   var w=o.offsetWidth;
	   var h=o.offsetHeight;

	   if(d=='in'){
		   switch(angle){
			   case '上':
				   $(o).find("p").css({left:0,top:-h+"px"}).stop(true).animate({left:0,top:0},300)
					setTimeout(function(){
						$(o).find("p a").css({left:'50%',top:-h+"px"}).stop(true).animate({left:'50%',top:'20px'},300)
					},200)
				   break;
			   case '右':
				   $(o).find("p").css({left:w+"px",top:0}).stop(true).animate({left:0,top:0},300)
				   setTimeout(function(){
					   $(o).find("p a").css({left:w+"px",top:'20px'}).stop(true).animate({left:'50%',top:'20px'},300)
				   },200)
				   break;
			   case '下':
				   $(o).find("p").css({left:0,top:h+"px"}).stop(true).animate({left:0,top:0},300)
				   setTimeout(function(){
					   $(o).find("p a").css({left:'50%',top:h+"px"}).stop(true).animate({left:'50%',top:'20px'},300)
				   },200)
				   break;
			   case '左':
				   $(o).find("p").css({left:-w+"px",top:0}).stop(true).animate({left:0,top:0},300)
				   setTimeout(function(){
					   $(o).find("p a").css({left:-w+"px",top:'20px'}).stop(true).animate({left:'50%',top:'20px'},300)
				   },200)
				   break;
		   }
	   }else if(d=='off'){
		   switch(angle){
			   case '上':
				   $(o).find("p a").stop(true).animate({left:'50%',top:-h+"px"},300)
				   setTimeout(function(){
					   $(o).find("p").stop(true).animate({left:0,top:-h+"px"},300)
				   },200)
				   break;
			   case '右':
				   $(o).find("p a").stop(true).animate({left:w+"px",top:'20px'},300)
				   setTimeout(function(){
					   $(o).find("p").stop(true).animate({left:w+"px",top:0},300)
				   },200)
				   break;
			   case '下':
				   $(o).find("p a").stop(true).animate({left:'50%',top:h+"px"},300)
				   setTimeout(function(){
					   $(o).find("p").stop(true).animate({left:0,top:h+"px"},300)
				   },200)
				   break;
			   case '左':
				   $(o).find("p a").stop(true).animate({left:-w+"px",top:'20px'},300)
				   setTimeout(function(){
					   $(o).find("p").stop(true).animate({left:-w+"px",top:0},300)
				   },200)
				   break;
		   }
	   }
   }
</script>
<!--效果html结束-->
</div>
<div class="mkeFooterBox">
<p>科e互联网页特效集锦---更多特效请访问 <a class="mkeURL" href="http://www.internetke.com/">www.internetke.com</a></p>
<p>本站导航：
<a href="http://www.internetke.com/" target="_blank" class="cor_bs">网站建设</a> | 
<a href="http://www.internetke.com/material/" target="_blank" class="cor_bs">网页素材</a> | 
<a href="http://www.internetke.com/effects/" target="_blank" class="cor_bs">网页特效</a> | 
<a href="http://www.internetke.com/share/" target="_blank" class="cor_bs">设计分享</a> | 
<a href="http://www.internetke.com/tutorial/" target="_blank" class="cor_bs">建站教程</a> | 
<a href="http://www.internetke.com/model/" target="_blank" class="cor_bs">网站模版</a> | 
<a href="http://www.internetke.com/appreciate/" target="_blank" class="cor_bs">酷站赏析</a>
</p>
<p>＊尊重他人劳动成果，转载请自觉注明出处！注：此代码为【科e整理/原创特效】仅供学习交流，请勿用于商业用途。
<a target="_blank" href="http://wp.qq.com/wpa/qunwpa?idkey=a7df3558c291e0407375b9ad649d96a6e507286ffeb0650c65a221d1500a0779" class="mkeButton" title="北京网站建设,网页特效QQ交流群-科e互联">加入QQ交流群</a></p>
<div class="mKeAdContainer"><script src="./jQuery判断鼠标划入图片方向显示遮罩层特效 - 【科e互联】_files/jsDemo_ad.js" language="javascript"></script></div>
</div>


</body></html>